source "${HOME}/.zgenom/zgenom.zsh"

# enable color support of ls and also add handy aliases
  # if [ -x /usr/bin/dircolors ]; then
  #     test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
  #     alias ls='ls --color=auto'
  #     alias dir='dir --color=auto'
  #     alias vdir='vdir --color=auto'
  #     alias grep='grep --color=auto'
  #     alias fgrep='fgrep --color=auto'
  #     alias egrep='egrep --color=auto'
  # fi
  #
SYSTEM_PATH=$PATH
unset PATH
PATH=$HOME/.local/bin
PATH=$PATH:$HOME/bin
PATH=$PATH:$HOME/scripts
PATH=$PATH:$HOME/.npm/bin
PATH=$PATH:$HOME/.zsh/bin
PATH=$PATH:$HOME/.cargo/bin
PATH=$PATH:$HOME/.local/share/pnpm
PATH=$PATH:$SYSTEM_PATH
export PATH

export PAGER=less

# Test through vim iterations in order of preference
if [[ -x "$(command -v nvim)" ]]; then
    export EDITOR=$(which nvim);
elif [[ -x "$(command -v vim)" ]]; then
    export EDITOR=$(which vim);
else
    export EDITOR=$(which vi);
fi

alias e="$EDITOR"
alias c='clear'
alias t='tmux'
alias ta='tmux attach'
alias tt='tmux attach -t'
alias tl='tmux list-sessions'
alias mkp='makepkg --noconfirm -f'
alias pn='pnpm'
alias px='pnpm exec nx'

alias ..='cd ../'
alias ...='cd ../../'
alias ....='cd ../../../'
alias .....='cd ../../../../'
alias ......='cd ../../../../../'

if [[ -x "$(command -v lsd)" ]]; then 
  alias ls="lsd"
else 
  alias ls='ls --color --group-directories-first'
fi
alias l='ls -lhF'
alias ll='ls -AlhF'
alias la='ls -ahF'
alias df='df -h'
alias tl='tail -f'

# frequent/rc files
# alias trc="$EDITOR ~/.tmux.conf"
# alias vrc="$EDITOR ~/.vim/vimrc -c 'cd %:p:h'"
alias nrc="$EDITOR ~/.config/nvim/init.lua -c 'cd %:p:h'"
#
# alias brc="nvim ~/.bashrc"
alias bup="source ~/.bashrc"
#
# alias zrc="nvim ~/.zshrc"
# alias za="nvim ~/.zsh/aliases"
alias zup="source ~/.zshrc"
#

# FZF
[[ -f ~/.fzf.zsh ]] && source ~/.fzf.zsh
[[ -f ~/.fzf.colors ]] && source ~/.fzf.colors
[[ -f /usr/share/fzf/completion.zsh ]] && source /usr/share/fzf/completion.zsh
[[ -f /usr/share/fzf/key-bindings.zsh ]] && source /usr/share/fzf/key-bindings.zsh

# fnm
export PATH="/home/joei/.local/share/fnm:$PATH"
eval "`fnm env`"


# if the init scipt doesn't exist
if ! zgenom saved; then
    echo "Creating a zgen save"

    zgenom prezto prompt theme 'sorin'

    # prezto and modules
    zgenom prezto
    zgenom prezto git
    zgenom prezto command-not-found
    zgenom prezto syntax-highlighting
    zgenom prezto prompt
    zgenom prezto utility

    # save all to init script
    zgenom save
fi

# vim: ft=zsh
